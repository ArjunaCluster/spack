# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.
spack:
  # add package specs to the `specs` list
  definitions:
  - python: ['python@3:']
  - pypkgs:
    - py-numpy
    - py-scipy
    - py-torch cuda_arch=37
  specs:
  - $python
  - julia
  - miniconda3
  - 'quantum-espresso +elpa hdf5=parallel +mpi +openmp +scalapack'
  - 'py-gpaw +fftw +libvdwxc +mpi +scalapack'
  -
  - matrix:
    - [$pypkgs]
    - [$^python]
  packages:
    all:
      compiler: ['gcc@11:']
      providers:
        blas: [openblas]
        mpi: [openmpi]
  modules:
    enable: [lmod]
  view: false

